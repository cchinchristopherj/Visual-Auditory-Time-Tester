<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ul.lst-kix_uhei365m3zjp-4{list-style-type:none}ul.lst-kix_uhei365m3zjp-5{list-style-type:none}.lst-kix_uhei365m3zjp-6>li:before{content:"\0025cf  "}.lst-kix_uhei365m3zjp-7>li:before{content:"\0025cb  "}ul.lst-kix_uhei365m3zjp-2{list-style-type:none}ul.lst-kix_uhei365m3zjp-3{list-style-type:none}ul.lst-kix_uhei365m3zjp-8{list-style-type:none}.lst-kix_uhei365m3zjp-5>li:before{content:"\0025a0  "}ul.lst-kix_uhei365m3zjp-6{list-style-type:none}ul.lst-kix_uhei365m3zjp-7{list-style-type:none}.lst-kix_uhei365m3zjp-0>li:before{content:"\0025cf  "}.lst-kix_uhei365m3zjp-8>li:before{content:"\0025a0  "}.lst-kix_uhei365m3zjp-1>li:before{content:"\0025cb  "}.lst-kix_uhei365m3zjp-2>li:before{content:"\0025a0  "}.lst-kix_uhei365m3zjp-3>li:before{content:"\0025cf  "}ul.lst-kix_uhei365m3zjp-0{list-style-type:none}ul.lst-kix_uhei365m3zjp-1{list-style-type:none}.lst-kix_uhei365m3zjp-4>li:before{content:"\0025cb  "}ol{margin:0;padding:0}table td,table th{padding:0}.c3{-webkit-text-decoration-skip:none;color:#000000;font-weight:700;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Times New Roman";font-style:normal}.c7{-webkit-text-decoration-skip:none;color:#000000;font-weight:400;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Times New Roman";font-style:normal}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Times New Roman";font-style:italic}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Courier New";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Times New Roman";font-style:normal}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Times New Roman";font-style:italic}.c14{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:center}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c9{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c11{color:#000000;text-decoration:none;vertical-align:baseline;font-size:9pt;font-style:normal}.c15{-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline;text-decoration-skip-ink:none}.c16{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;text-decoration:underline}.c12{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c17{font-weight:700;font-family:"Arial"}.c13{color:inherit;text-decoration:inherit}.c8{font-weight:400;font-family:"Times New Roman"}.c6{height:11pt}.c10{font-size:12pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c12"><p class="c14"><span class="c3">E1201 Project Report: Visual Auditory Time Tester </span></p><p class="c14"><span class="c3">Amy Wu, Christopher Chin</span></p><p class="c14"><span class="c3">27 April 2017</span></p><p class="c1 c6"><span class="c9 c8"></span></p><p class="c1"><span class="c7">Abstract</span></p><p class="c1"><span class="c8">A device for testing reaction times to visual (LED light) and auditory signals (buzzer noise) was made. The reaction times, reasonably assumed to be below 15 seconds, are displayed by two sets of LEDs in binary. The two tests are performed in sequence, with the visual test first and the auditory test second. </span></p><p class="c1 c6"><span class="c7"></span></p><p class="c1"><span class="c7">Circuit Schematics</span></p><p class="c14"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 542.67px;"><img alt="Screen Shot 2017-04-21 at 11.32.29 PM.png" src="images/image1.png" style="width: 624.00px; height: 542.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c6 c14"><span class="c8 c11"></span></p><p class="c1"><span class="c4">Visual Test</span></p><p class="c1"><span class="c0">The code below allows the Arduino to function as a binary up counter from 0-15. Specifically, the custom function &ldquo;dectobinary&rdquo; takes a number as input and uses the built-in Arduino function &ldquo;bitRead&rdquo; to read off the binary representation of the number. &ldquo;dectobinary&rdquo; then uses four LEDs - counterPin1-counterPin4 to indicates this binary representation. If an LED is on, it represents a 1 and if it is off, it represents a 0. The LSB is taken to be the bottommost LED. The program will count up from 0-15, driving the counterPin LEDs as described, until the button is pushed. When this occurs, the first for loop in the program&rsquo;s main loop terminates and the counter stops. The state of the LEDs is saved in the four counterPin1State-counterPin4State variables (memory). A different set of LEDs - savePin1-savePin4 are then driven by these memory variables to visually represent the visual reaction time (the time it took for the participant to react to seeing the counter light up). Saving the values of the visual test in this different set of four LEDs allows the counterPin LEDs to once again be used as counters for the subsequent auditory test. </span></p><p class="c1 c6"><span class="c0"></span></p><p class="c1"><span class="c4">Auditory Test</span></p><p class="c1"><span class="c8 c10">The</span><span class="c8 c10">&nbsp;auditory test then begins (after a small delay of 3 seconds). </span><span class="c8 c10">This time, a tone is played through the connected speaker using the Arduino function tone()</span><span class="c0">. Once again, the program counts up from 0-15 in binary, driving the counterPin LEDs as described, until the button is pushed. When the button is pressed, the second for loop in the program&rsquo;s main loop terminates and the counter stops. The state of the LEDs is saved in the four counterPin1State-counterPin4State variables (memory). counterPin1-counterPin4 are then driven by these memory variables, representing the time it took for the participant to react to the sound being played. By the end of the test, the four counterPins and four savePins are lit, representing the reaction time for the auditory and visual tests, respectively.</span></p><p class="c1 c6"><span class="c0"></span></p><p class="c1"><span class="c4">Technical Specifications</span></p><p class="c1"><span class="c0">1.3K resistors were connected in series to the LEDs to avoid LED burnout. </span></p><p class="c1 c6"><span class="c0"></span></p><p class="c1"><span class="c0">Included a pull up resistor to correct for button bouncing effects on voltage detected by the Arduino. A 1.3K resistor was used for this purpose </span></p><p class="c1 c6"><span class="c0"></span></p><p class="c14"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 325.00px; height: 435.44px;"><img alt="" src="images/image2.png" style="width: 325.00px; height: 435.44px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c6"><span class="c7"></span></p><p class="c1"><span class="c5">Code: </span></p><p class="c1"><span class="c2">// Connect all LEDs and button to digital pins </span></p><p class="c1"><span class="c2">int counterPin1 = 10; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class="c1"><span class="c2">int counterPin2 = 11; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c1"><span class="c2">int counterPin3 = 12; </span></p><p class="c1"><span class="c2">int counterPin4 = 13; &nbsp; &nbsp; &nbsp; </span></p><p class="c1"><span class="c2">int savePin1 = 6; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class="c1"><span class="c2">int savePin2 = 7; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c1"><span class="c2">int savePin3 = 8; </span></p><p class="c1"><span class="c2">int savePin4 = 9; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c1"><span class="c2">int buttonPin = 2; &nbsp; &nbsp;</span></p><p class="c1 c6"><span class="c2"></span></p><p class="c1"><span class="c2">// Initialize counterPinState, savePinState, and buttonState variables to off</span></p><p class="c1"><span class="c2">boolean counterPin1State = LOW;</span></p><p class="c1"><span class="c2">boolean counterPin2State = LOW;</span></p><p class="c1"><span class="c2">boolean counterPin3State = LOW;</span></p><p class="c1"><span class="c2">boolean counterPin4State = LOW;</span></p><p class="c1"><span class="c2">boolean savePin1State = LOW;</span></p><p class="c1"><span class="c2">boolean savePin2State = LOW;</span></p><p class="c1"><span class="c2">boolean savePin3State = LOW;</span></p><p class="c1"><span class="c2">boolean savePin4State = LOW;</span></p><p class="c1"><span class="c2">boolean buttonState = LOW;</span></p><p class="c1 c6"><span class="c2"></span></p><p class="c1"><span class="c2">// Set each pin as OUTPUT or INPUT</span></p><p class="c1"><span class="c2">void setup() {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp;pinMode(counterPin1,OUTPUT); &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class="c1"><span class="c2">&nbsp; &nbsp;pinMode(counterPin2,OUTPUT); &nbsp; &nbsp; &nbsp; </span></p><p class="c1"><span class="c2">&nbsp; &nbsp;pinMode(counterPin3,OUTPUT); &nbsp; &nbsp; &nbsp; </span></p><p class="c1"><span class="c2">&nbsp; &nbsp;pinMode(counterPin4,OUTPUT);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp;pinMode(savePin1,OUTPUT); &nbsp; &nbsp; &nbsp; &nbsp;</span></p><p class="c1"><span class="c2">&nbsp; &nbsp;pinMode(savePin2,OUTPUT); &nbsp; &nbsp; &nbsp; </span></p><p class="c1"><span class="c2">&nbsp; &nbsp;pinMode(savePin3,OUTPUT); &nbsp; &nbsp; &nbsp; </span></p><p class="c1"><span class="c2">&nbsp; &nbsp;pinMode(savePin4,OUTPUT);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp;pinMode(buttonPin,INPUT); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c1"><span class="c2">}</span></p><p class="c1 c6"><span class="c2"></span></p><p class="c1"><span class="c2">void loop() {</span></p><p class="c1"><span class="c2">// Visual Test</span></p><p class="c1"><span class="c2">&nbsp; for (byte vis_counter=0; vis_counter&lt;=15; vis_counter++) { </span></p><p class="c1"><span class="c2">&nbsp; &nbsp; buttonState = digitalRead(buttonPin);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; if (buttonState == HIGH) {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(savePin1,counterPin1State);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(savePin2,counterPin2State);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(savePin3,counterPin3State);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(savePin4,counterPin4State);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; break;</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; else {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; dectobinary(vis_counter);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; delay(250);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; // Auditory Test</span></p><p class="c1"><span class="c2">&nbsp; delay(2000);</span></p><p class="c1"><span class="c2">&nbsp; tone(3,60);</span></p><p class="c1"><span class="c2">&nbsp; for (byte aud_counter=0; aud_counter&lt;=15; aud_counter++) {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; buttonState = digitalRead(buttonPin);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; if (buttonState == HIGH) {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; noTone(3);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(counterPin1,counterPin1State);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(counterPin2,counterPin2State);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(counterPin3,counterPin3State);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(counterPin4,counterPin4State);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; break;</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; else {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; dectobinary(aud_counter);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; delay(250);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; exit(0);</span></p><p class="c1"><span class="c2">} &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c1 c6"><span class="c2"></span></p><p class="c1"><span class="c2">// Custom Decimal to Binary Conversion function</span></p><p class="c1"><span class="c2">void dectobinary(byte number) {</span></p><p class="c1"><span class="c2">&nbsp; if (bitRead(number,0) == 1) {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(counterPin1,HIGH);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; counterPin1State = HIGH; </span></p><p class="c1"><span class="c2">&nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; else {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(counterPin1,LOW);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; counterPin1State = LOW;</span></p><p class="c1"><span class="c2">&nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; if (bitRead(number,1) == 1) {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(counterPin2,HIGH);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; counterPin2State = HIGH;</span></p><p class="c1"><span class="c2">&nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; else {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(counterPin2,LOW);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; counterPin2State = LOW;</span></p><p class="c1"><span class="c2">&nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; if (bitRead(number,2) == 1) {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(counterPin3,HIGH);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; counterPin3State = HIGH;</span></p><p class="c1"><span class="c2">&nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; else {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(counterPin3,LOW);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; counterPin3State = LOW;</span></p><p class="c1"><span class="c2">&nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; if (bitRead(number,3) == 1) {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(counterPin4,HIGH);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; counterPin4State = HIGH;</span></p><p class="c1"><span class="c2">&nbsp; }</span></p><p class="c1"><span class="c2">&nbsp; else {</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; digitalWrite(counterPin4,LOW);</span></p><p class="c1"><span class="c2">&nbsp; &nbsp; counterPin4State = LOW;</span></p><p class="c1"><span class="c2">&nbsp; }</span></p><p class="c1"><span class="c2">}</span></p><p class="c1 c6"><span class="c9 c8"></span></p><p class="c1"><span class="c7">Notes</span></p><p class="c1"><span class="c9 c8">The majority of the work in-lab, besides setting up the circuit itself, was debugging the code. Points of debugging included syntactical issues (e.g. counterPin() only takes HIGH or LOW as the second parameter), unnecessary blocks of code, placement of function calls (particularly tone()), placement of delay(), and representing button state in the code (did not realize that the button would be open circuit only for as long as the button was held). Additionally, modifications were also made to the length of the delays included in the code--time indicated in the code were not accurate (indicating 1000ms does not translate into 1000ms when the code ran). </span></p><p class="c1 c6"><span class="c9 c8"></span></p><p class="c1"><span class="c8 c16">Video Links</span></p><p class="c1"><span class="c9 c8">1. Video 1 (Normal Speed Implementation)</span></p><p class="c1"><span class="c15 c8"><a class="c13" href="https://www.google.com/url?q=https://vimeo.com/215447857&amp;sa=D&amp;ust=1543944973540000">https://vimeo.com/215447857</a></span></p><p class="c1 c6"><span class="c9 c8"></span></p><p class="c1"><span class="c8 c9">2. Video 2 (Fast Speed Implementation)</span></p><p class="c1"><span class="c8 c15"><a class="c13" href="https://www.google.com/url?q=https://vimeo.com/215447788&amp;sa=D&amp;ust=1543944973541000">https://vimeo.com/215447788</a></span></p><p class="c1 c6"><span class="c9 c8"></span></p></body></html>